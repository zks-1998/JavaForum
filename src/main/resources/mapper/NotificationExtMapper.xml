<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qau.mapper.NotificationExtMapper">
    <resultMap id="BaseResultMap" type="com.qau.model.Notification">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 18 14:03:09 CST 2020.
        -->
        <id column="ID" jdbcType="BIGINT" property="id" />
        <result column="NOTIFIER" jdbcType="BIGINT" property="notifier" />
        <result column="RECEIVER" jdbcType="BIGINT" property="receiver" />
        <result column="OUTERID" jdbcType="BIGINT" property="outerid" />
        <result column="TYPE" jdbcType="INTEGER" property="type" />
        <result column="GMT_CREATE" jdbcType="BIGINT" property="gmtCreate" />
        <result column="STATUS" jdbcType="INTEGER" property="status" />
    </resultMap>

    <select id="countStatus" resultType="INTEGER">
        select count(*) FROM NOTIFICATION where RECEIVER = #{receiver} and STATUS = #{status}
    </select>
    <update id="updateStatus">
        update NOTIFICATION set STATUS = 1 where ID = #{id}
    </update>
</mapper>